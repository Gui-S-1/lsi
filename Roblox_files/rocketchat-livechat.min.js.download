!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var i;
/*!
 * EventEmitter v5.2.8 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function o(){}var s=o.prototype,r=t.EventEmitter;function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}s.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},s.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===a(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},s.on=c("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=c("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=a(o[i],t))&&o[i].splice(n,1);return this},s.off=c("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var i,o,s=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)s.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?s.call(this,i,o):r.call(this,i,o));return this},s.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},s.removeAllListeners=c("removeEvent"),s.emitEvent=function(e,t){var n,i,o,s,r=this.getListenersAsObject(e);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].slice(0),o=0;o<n.length;o++)!0===(i=n[o]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},s.trigger=c("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=r,o},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}("undefined"!=typeof window?window:this||{})},function(e,t,n){"use strict";n.r(t),n.d(t,"validCallbacks",(function(){return m}));var i=n(0),o=n.n(i);const s=()=>{};window.RocketChat=window.RocketChat||{_:[]};const r={};let a,c,u,d,l=[],h=!1,f=!1,p=!1;const m=["chat-maximized","chat-minimized","chat-started","chat-ended","pre-chat-form-submit","offline-form-submit","show-widget","hide-widget","assign-agent","agent-status-change","queue-position-change","no-agent-online"],g=new o.a;function w(e,t){return-1!==m.indexOf(e)&&g.on(e,t)}function v(e,t){void 0!==t?g.emit(e,t):g.emit(e)}function y(e,t){if(!h)return l.push([e,t]);const n={src:"rocketchat",fn:e,args:t};c.contentWindow.postMessage(n,"*")}const b=e=>{f&&e?(d=document.documentElement.scrollTop,u=document.body.style.cssText):(document.body.style.cssText=u,f&&(document.documentElement.scrollTop=d)),e?(a.style.left=f||p?"0":"auto",a.style.width=f||p?"100%":"397px",a.style.height=f||p?"100%":"627px"):(a.style.left="auto",a.style.width="86px",a.style.height="86px")},E=()=>{"opened"!==a.dataset.state&&(b(!0),a.dataset.state="opened",c.focus(),v("chat-maximized"))};function x(){"closed"!==a.dataset.state&&(b(!1),a.dataset.state="closed",v("chat-minimized"))}const L={popup:null,ready(){h=!0,l.length>0&&(l.forEach((function(e){y.apply(this,e)})),l=[])},minimizeWindow(){x()},restoreWindow(){L.popup&&!0!==L.popup.closed&&(L.popup.close(),L.popup=null),E()},openPopout(){x(),L.popup=window.open(`${r.url}${r.url.lastIndexOf("?")>-1?"&":"?"}mode=popout`,"livechat-popout","width=365, height=525, toolbars=no"),L.popup.focus()},openWidget(){E()},removeWidget(){document.body.removeChild(a)},callback(e,t){v(e,t)},showWidget(){c.style.display="initial",v("show-widget")},hideWidget(){c.style.display="none",v("hide-widget")}};function C(e){y("pageVisited",{change:e,location:JSON.parse(JSON.stringify(document.location)),title:document.title})}function O(e,t,n){void 0===n&&(n=!0),y("setCustomField",[e,t,n])}function k(e){y("setTheme",e)}function R(e){y("setDepartment",e)}function _(e){y("setGuestToken",e)}function W(e){y("setGuestName",e)}function j(e){y("setGuestEmail",e)}function P(e){y("registerGuest",e)}function z(e){y("setAgent",e)}function A(e){y("setLanguage",e)}const S={href:null,title:null},T=(e,t)=>{e&&(r.url=e,((e,t)=>{t&&(p=!0),(a=document.createElement("div")).className="rocketchat-widget",a.style.position=p?"inherit":"fixed",a.style.width="86px",a.style.height="86px",a.style.maxHeight="100vh",a.style.bottom="0",a.style.right="0",a.style.zIndex="12345",a.dataset.state=p?"opened":"closed";const n=document.createElement("div");n.className="rocketchat-container",n.style.width="100%",n.style.height="100%",(c=document.createElement("iframe")).id="rocketchat-iframe",c.allowTransparency="true",c.src=e,c.style.width="100%",c.style.height="100%",c.style.border="none",c.style.backgroundColor="transparent",n.appendChild(c),a.appendChild(n),p?document.getElementById(t).appendChild(a):document.body.appendChild(a);const i=({matches:e})=>{a&&(f=e,b("opened"===a.dataset.state),y("setExpanded",f))},o=window.matchMedia("screen and (max-device-width: 480px)");o.addListener(i),i(o)})(e,t),window.addEventListener("message",e=>{if("object"==typeof e.data&&void 0!==e.data.src&&"rocketchat"===e.data.src&&void 0!==L[e.data.fn]&&"function"==typeof L[e.data.fn]){const t=[].concat(e.data.args||[]);s(`api.${e.data.fn}`,...t),L[e.data.fn].apply(null,t)}},!1),setInterval(()=>{document.location.href!==S.href&&(C("url"),S.href=document.location.href),document.title!==S.title&&(C("title"),S.title=document.title)},800))};void 0!==window.initRocket&&(console.warn("initRocket is now deprecated. Please update the livechat code."),T(window.initRocket[0])),void 0!==window.RocketChat.url&&T(window.RocketChat.url,window.RocketChat.target);const M=window.RocketChat._;window.RocketChat._.push=function(e){e.call(window.RocketChat.livechat)},window.RocketChat=window.RocketChat._.push,window.RocketChat.livechat={showRegistrationForm:function(){y("showRegistrationForm")},pageVisited:C,setCustomField:O,initialize:function(e){for(const t in e)switch(t){case"customField":const{key:n,value:i,overwrite:o}=e[t];O(n,i,o);continue;case"setCustomFields":if(!Array.isArray(e[t])){console.log("Error: Invalid parameters. Value must be an array of objects");continue}e[t].forEach(e=>{const{key:t,value:n,overwrite:i}=e;O(t,n,i)});continue;case"theme":k(e[t]);continue;case"department":R(e[t]);continue;case"guestToken":_(e[t]);continue;case"guestName":W(e[t]);continue;case"guestEmail":j(e[t]);continue;case"registerGuest":P(e[t]);continue;case"language":A(e[t]);continue;case"agent":z(e[t]);continue;default:continue}},setTheme:k,setDepartment:R,clearDepartment:function(){y("clearDepartment")},setGuestToken:_,setGuestName:W,setGuestEmail:j,setAgent:z,registerGuest:P,setLanguage:A,showWidget:function(){y("showWidget")},hideWidget:function(){y("hideWidget")},maximizeWidget:function(){y("maximizeWidget")},minimizeWidget:function(){y("minimizeWidget")},closeModal:function(){y("closeModal")},onChatMaximized(e){w("chat-maximized",e)},onChatMinimized(e){w("chat-minimized",e)},onChatStarted(e){w("chat-started",e)},onChatEnded(e){w("chat-ended",e)},onPrechatFormSubmit(e){w("pre-chat-form-submit",e)},onOfflineFormSubmit(e){w("offline-form-submit",e)},onWidgetShown(e){w("show-widget",e)},onWidgetHidden(e){w("hide-widget",e)},onAssignAgent(e){w("assign-agent",e)},onAgentStatusChange(e){w("agent-status-change",e)},onQueuePositionChange(e){w("queue-position-change",e)},onServiceOffline(e){w("no-agent-online",e)}},M.forEach(e=>{e.call(window.RocketChat.livechat)})}]);